PROCESSOR 16F887
#include <xc.inc>

CONFIG FOSC = INTRC_NOCLKOUT
CONFIG WDTE = OFF
CONFIG PWRTE = ON
CONFIG MCLRE = OFF
CONFIG CP = OFF
CONFIG CPD = OFF
CONFIG BOREN = OFF
CONFIG IESO = OFF
CONFIG FCMEN = ON
CONFIG DEBUG = ON

CONFIG BOR4V=BOR40V
CONFIG WRT = OFF
    
PSECT udata
val1:
    DS 1
val2:
    DS 1
val3:
    DS 1
PSECT resetVec,class=CODE,delta=2
resetVec:
PAGESEL main
goto main
PSECT code
 
main:
BANKSEL ANSEL
CLRF ANSEL
BANKSEL TRISA
MOVLW 0b00000000
MOVWF TRISA
BANKSEL PORTA
CLRF PORTA
bcf STATUS,5
bsf STATUS,6
bcf STATUS,0
BANKSEL OSCCON
MOVLW  0b01110000
MOVWF  OSCCON
Conteo:
bcf STATUS,0
bcf STATUS,5
bcf STATUS,6
MOVLW   0b00000001
MOVWF   PORTA
GOTO izquierda
izquierda:
RLF PORTA
BTFSS PORTA,7
GOTO izquierda
GOTO derecha 
derecha:
RRF PORTA
BTFSS PORTA,0
GOTO derecha
GOTO Conteo
END
    